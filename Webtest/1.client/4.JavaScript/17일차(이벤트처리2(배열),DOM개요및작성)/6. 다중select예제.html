<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6.다중select에제.html</title>
    <script>
        //3개의 배열객체
        let kind1=new Array("KBS","MBC","SBS");
        let kind2=new Array("크레지오","튜브","뮤즈"); //인터넷 방송국
        let kind3=new Array("소리바다","벅스뮤직","2000MP3"); //MP#,Sound 관련 회사


        //에러(물리적(오타),논리적 2가지임)
        //1.선택해서 전달받은 배열객체를 구분
        function sel(arr_name){
            //kind2를 객체가 아닌 문자로 인식해서 오류남
            //alert(typeof(arr_name)); 자료형 확인 (type of 변수명 or 값)-> 자료형 확인 가능
            // alert(arr_name);(디버깅)
            let the_array=eval(arr_name); //eval 함수 이용해 객체로 인식시킴
            //alert(typeof(the_array));// 자료형 바뀐거 확인(object로 나오면 객체)
            setOptionText(document.form1.start,the_array);
        }
        //2.두번쨰 콤보박스에 선택된 배열의 값을 출력시켜주는 함수
        function setOptionText(the_select,the_array){
            //the_select (첫번째 콤보박스), the_array(두번째 콤보박스)
            //전달받은 배열 항목의 갯수를 구해서 두번째 콤보박스의 length에 넣어준다.
            the_select.options.length=the_array.length; //선택된 배열의 갯수가 다 다르기 때문에
            for(let i=0;i<the_array.length;i++){
                the_select.options[i].text=the_array[i];
            }
        }
    </script>
</head>
<body>
    <form name="form1">
        <!-- 
            첫번째 콤보박스 항목을 선택(베열)-> 값전달 -> 두번째 콤보박스에서 인식-> 선택된 배열의 갯수만큼 for돌려서출력

         -->
        <select name="s_list" onchange="sel(document.form1.s_list.options[selectedIndex].value)"><!--1.배열선택-->
            <option value="kind1">방송국</option>
            <option value="kind2">인터넷 방송국</option>
            <option value="kind3">MP3/사운드</option>
        </select>
        <select name="start"><!--2.선택된 배열의 항목을 for문을 이용해서 출력-->
            <option>KBS</option>
            <option>MBC</option>
            <option>SBS</option>
        </select>
    </form>
</body>
</html>